% !TeX root = ../../master_thesis.tex

\section{Strategy of a chat-bot solution}

\subsection*{Introduction}
Developing a chat-bot for a financial institution is expected to bring high costs and consume lots of time.
However, consequent approach to chat-bot development will lead to iterative process and precise control over development of new form of client interaction.
Existing market situation already requires certain mechanism, that are required for Conversational Banking.
In Europe PSD2 made a major influence by forcing banks to make public APIs for payments and accounts.
Even though it required a lot of work, things done may become a foundation for a global Bank-as-a-Service wave of popularity.
Besides, iterative approach with proper strategy would lead to adaptation to current trends and forecast future trends.

\subsection{Current landscape}

Nowadays, Open Banking is one of the most important innovations in banking.
Moreover, the latest requirements of Bank Regulators all over the world demand this innovation. 
Thus, granting access to more banking activities and services is an obvious trend.

Currently, PSD2 demand only a small subset of operation, initiation of payments and account check.
However, this had already forced banks to know how to make secured public APIs according to regulations.
As a set of possible operation using third-party providers is limited, we can assure that there are two APIs, for internal usage and for public usage.

\begin{figure}
    \centering
    \begin{tikzpicture}[auto, node distance=2cm,>=latex']
        \node [block](user){User of services};
        \node [block, right = 4cm of user, above of = user](internet_banking){Internet or mobile banking};
        \node [block, right = 4cm of user, below of = user](tpp){Third-party service providers};
        \node [block, right = 1cm of internet_banking](internal_api){Internal API of a Bank};
        \node [block, right = 1cm of tpp](public_api){Public API of a Bank};

        
        \draw [->] (user) -- (internet_banking);
        \draw [->] (user) -- (tpp);

        \draw [->] (internet_banking) -- (internal_api);
        \draw [->] (internet_banking) -- (public_api);
        \draw [->] (tpp) -- (public_api);
    \end{tikzpicture}
    \caption{Current route of a user request to a bank}
    \medskip
    \footnotesize\textit{Source:} Own study
\end{figure}

Accordingly, internal bank API is used for official bank's internet banking web application or mobile banking application. 
Obviously, same internal API can be used for internal usage among internal bank services.
More or less, mentioned graph represents current state of banking interaction with third-party services from a client side.


\subsection{Open Banking API development and extension}

In ideal world it would be easy and comfortable for banks to make entire API public and supportable.
This would allow banks to focus on financial operations and stability, instead of front-offices.
Unfortunately, this is not possible due to tactical reasons and obvious risks for such major changes.
Nevertheless, we can assume that certain forms of financial services can be used via public API.

API is a programming interface from a set of ready-made functions or structures that are provided by an application or service.
This API has to support as many banking services, as possible, both for registered, bank, users and newcomers. 
Among those services could be, among PSD2-based balance check and setting payments, as listing public or individual offers, loan requirements check, deposit terms, additional services and legal information.

As a second step, banks have to make mentioned API public or licensible.
Basically, this would allow for bank to work in a Bank-as-a-Service business model in a more abstract way.
The reasoning behind this is in high costs of internal solutions. 
Additionally, bank may not be interested or cannot allow for itself to invest into risky forms of client interaction.
Bank-as-a-Service model for third-party FinTechs is an applyable option in this case, as it would allow transfering customer interaction risks to FinTechs.
This is the very first step where AI is useble in any form.
Basically, this step represents risk deduction by allowing FinTech using Bank-as-a-Service.
How to create client interaction, how to analyze client interaction and how to interpret results becomes a problem for third-parties.

In this case, bank can check and validate strategies done by third-parties for client interaction, and in case of positive impact bank can decide what is more applyable â€” either to continue serving as a service bank, or to create new ways of client interaction by itself.

\begin{figure}
    \centering
    \begin{tikzpicture}[auto, node distance=2cm,>=latex']
        \node [block](user){User of services};
        \node [block, right = 5cm of user, above of = user](internet_banking){Internet or mobile banking};
        \node [block, right = 5cm of user, below of = user](tpp){Third-party service providers};
        \node [block, right = 5cm of tpp, above of = tpp](api){Public API of a Bank};

        
        \draw [->] (user) -- (internet_banking);
        \draw [->] (user) -- (tpp);

        \draw [->] (internet_banking) -- (api);
        \draw [->] (tpp) -- (api);
    \end{tikzpicture}
    \caption{Open Banking User Request Route}
    \medskip
    \footnotesize\textit{Source:} Own study
\end{figure}

This development would lead to a major move towards Bank-as-a-Service.
Allowing third-party providers to use bank's own services via API on defined and specified requirements would lead to partly delegation of front-office functions to those third-parties, as those can focus on B2C cooperation and find clients more precisely and in more effective way, especially by uniting services of multiple Banks-as-a-Services.
Mentioned operations would inevitably result in risky, state-of-art FinTech start-ups.
As a result, Conversational Banking solution can be created by a FinTech start-up, resulting in a next operational scheme.

\begin{figure}
    \centering
    \begin{tikzpicture}[auto, node distance=2cm,>=latex']
        \node [block](user){User of services};

        \node [block, right = 1cm of user](tpcb){Third-party conversational banking};
        \node [block, above of = tpcb](internet_banking){Internet or mobile banking};
        \node [block, below of = tpcb](tpp){Third-party service providers};
        
        \node [block, right = 1cm of tpcb](api){Public API of a Bank};

        
        \draw [->] (user) -- (internet_banking);
        \draw [->] (user) -- (tpcb);
        \draw [->] (user) -- (tpp);

        \draw [->] (internet_banking) -- (api);
        \draw [->] (tpcb) -- (api);
        \draw [->] (tpp) -- (api);
    \end{tikzpicture}
    \caption{Open Banking User Request Route with Conversational Banking}
    \medskip
    \footnotesize\textit{Source:} Own study
\end{figure}

Even though it looks like innovation, actually this is an evolution.
If bank decide to turn to Conversational Banking in all cases it has to create secure API for multiple operations not covered by, for example, PSD2 yet.
It is a wise option to share API for third-party service providers, as it would allow testing innovations by costs of third-party providers.


\subsection{Rule-based middleware}

Undoubtedly, bank should not rely only on third-parties, but has to create own solutions.
Firstly, bank has to create comparingly simple and low-cost middleware for a chat-bot.
Of course, this is not an Artificial Intelligence, as it may require big investments, but a more simple, rule-based algorithmical solution.
Unfortunately, in both cases additional costs are required on a front-end level, either some user interface changes in mobile and internet banking application, as a chat window for bot is required.
On the other hand, an additional application for front-office employees is required, if banks decide to make a hybrid chat-bot approach.

\begin{figure}
    \centering
    \begin{tikzpicture}[auto, node distance=2cm,>=latex']
        \node [block](rbm){Rule-based middleware};
        
        \node [block, above of = rbm, left of = rbm](user){User of services};
        \node [block, below of = rbm, left of = rbm](employee){Front-office employee};
        
        \node [block, right = 1cm of rbm](capi){Conversational API of a Bank};
        \node [block, above of = capi](papi){Public API of a Bank};
        \node [block, below of = capi](kdb){Knowledge database};

        \draw [->] (user) -- (rbm);
        \draw [->] (employee) -- (rbm);
        \draw [->] (rbm) -- (capi);
        \draw [->] (capi) -- (papi);
        \draw [->] (capi) -- (kdb);
    \end{tikzpicture}
    \caption{User Request Route with Rule-based middleware}
    \medskip
    \footnotesize\textit{Source:} Own study
\end{figure}

Additional costs are required on a backend side for a Conversational API, which should handle requests from middleware and return formed responses.
As well, Conversational API has to use knowledge database, which has predefined answers for most popular questions or some templates.


\subsection{Middleware with Machine Learning}

The most ambitious, innovative and risky form of a chat-bot would be a chat-bot which uses Artificial Intelligence, Machine Learning and Natural Language Processing technics for client communication.
Entire processing would be done on a middleware between a user interface, which is used either by a client or an employee, and a bank's backend API.

Machine Learning based middleware, either third-party or owned and developed by bank, processes human-writeable text to a form of a backend request and generates human-readable answer based on a response received from a bank backend.

\begin{figure}
    \centering
    \scalebox{0.9}{
        \begin{tikzpicture}[auto, node distance=2cm,>=latex']
            \node [block](employee){Front-office employee};
            \node [block, below = 3cm of employee](user){User of services};
            
            \node [block, right = 1cm of employee, align = center](bmml){Bank's middleware with ML\&AI};
            \node [block, right = 1cm of user, below = 3cm of bmml](tpmml){Third-party middleware with ML\&AI};
            
            \node [block, right = 6cm of bmml, below of = bmml](capi){Conversational API of a Bank};
            
            \node [block, above of = capi](papi){Public API of a Bank};
            \node [block, below of = capi](kdb){Knowledge database};

            \draw [->] (employee) -- (bmml);
            
            \draw [->] (user) -- (bmml);
            \draw [->] (user) -- (tpmml);
            
            \draw [->] (bmml) -- (capi);
            \draw [->] (tpmml) -- (capi);
            
            \draw [->] (capi) -- (papi);
            \draw [->] (capi) -- (kdb);
        \end{tikzpicture}
    }
    \caption{Open Banking User Request Route with ML\&AI Conversational Banking}
    \medskip
    \footnotesize\textit{Source:} Own study
\end{figure}

Basically, an ideal system should be just an intermediate block of logic, that receives message from a client, determines business related data and transfers it to customer relationship management system.
Accordingly, CRM system returns data, which is used by a mentioned block of logic, which returns human-readable format.
Of course, it has to use various databases of known question-answer pairs and lists of promoted products.

\begin{figure}
    \centering
    \begin{tikzpicture}[auto, node distance=2cm,>=latex']
        \node [block]
            (user){User};
        \node [block, right of = user, node distance = 4cm]
            (bot){Chat-bot};
        \node [block, right of = bot, node distance = 4cm]
            (output){CRM};
        \node [block, below of = bot, node distance = 2.5cm]
            (database){Database};
        \draw [<->] (user) -- (bot);
        \draw [<->] (bot) -- (output);
        \draw [<->] (bot) -- (database);
        \draw [<->] (database) -| (output);
    \end{tikzpicture}
    \caption{Structure of an integrated chat-bot solution}
    \medskip
    \footnotesize\textit{Source:} Own study
\end{figure}    

Unfortunately, this type of system would be significantly complicated and requires more precise analysis and planning.
Firstly, a user-input message has to pass data cleansing and go to NLU engine, which transforms a message into contextual keywords, which would allow dialog manager to handle.
More simple forms, which can be templated or is a common knowledge, for example, currency rates, can be received via database of questions and answers.
More complicated logic has to be handled in Dialog Manager.
As a result, formed response passes to NLG engine, which generates text or synthesizes speech, which is passed as an output to user.
Obviously, for development reasons dialog has to be collected and analyzed with metadata. 
Accordingly, Artificial Intelligence is a main logical solution for Natural Language Understanding, Natural Language Generation, Dialog Manager and Analytics.

\begin{sidewaysfigure}
    \centering
    \begin{tikzpicture}[auto, node distance=4cm,>=latex']
        \node [block](messenger){Messenger};
        \node [block, right of = messenger]
            (cleansing){Data cleansing};
        \node [block, right of = cleansing, align = center]
            (nlu){Nature\\ Language\\ Understanding\\ (NLU)};
        \node [block, right of = nlu, below of = nlu, align = center]
            (dm){Dialog Manager\\ (DM)};
        \node [block, right of = nlu, above of = dm]
            (dlog){Dialog log};
        \node [block, right of = dlog]
            (analytics){Analytics};
        \node [block, below of = dm, align = center]
            (base_database){Database of\\ questions and answers};
        \node [block, below of = cleansing, align = center]
            (nlg){Nature\\ Language\\ Generator\\ (NLG)};
        \draw [->] (messenger) -- node{$Input$} (cleansing);
        \draw [->] (cleansing) -- (nlu);
        \draw [->] (nlu) -| node[align = center]{$Keywords$} (dm);
        \draw [->] (dm) -| (dlog);
        \draw [->] (dlog) -- (analytics);
        \draw [<->] (dm) -- (base_database);
        \draw [->] (dm) -- node{$Next$ $question$} (nlg);
        \draw [->] (nlg) -| node{$Output$} (messenger);
    \end{tikzpicture}
    \caption{Structure of a ML\&AI Chat-bot solution with Natural Language Processing}
    \medskip
    \footnotesize\textit{Source:} Own study
\end{sidewaysfigure}

\subsection{Recommendations and notifications}

However, AI in a chat-bot is not limited to practical use in terms of Natural Language Processing.
AI can be used to create powerful recommendation and notification system, based on existing categories of users and their preferences.


\begin{figure}
    \centering
    \begin{tikzpicture}[auto, node distance=2cm and 1cm,>=latex']
        \node [block](capi){Conversational API of a Bank};
        \node [block, above of = capi](papi){Public API of a Bank};
        \node [block, below of = capi](kdb){Knowledge database};

        \node [block, right = of capi](m_and_a){Analytics engine};

        \node [block, right = of m_and_a](recs){ML\&AI Recommendations};
        \node [block, below = of recs](nots){Notifications};

        \draw [->] (capi) -- (papi);
        \draw [->] (capi) -- (kdb);
        \draw [->] (capi) -- (m_and_a);
        \draw [->] (m_and_a) -- (recs);
        \draw [->] (recs) -- (nots);
    \end{tikzpicture}
    \caption{Plan of integration of a ML\&AI Recommendation and Notification systems}
    \medskip
    \footnotesize\textit{Source:} Own study
\end{figure}

Every request received may have metainformation, as popular keywords, popular requests, which in pair with known customer information, as age, location, gender, et cetera, allows bank to build recommendation system based on a Machine Learning solutions.
Nonetheless, this can be done both on a bank side, as on third-party solution, resulting in a Bank-as-a-Platform form of development in this case.

Obviously, generated recommendations should be somehow delivered to a user.
This can be done not only by a common form of web, mobile or SMS notifications, but also in a form of a message via same chat-bot, which is an important form of communication initiation from a bank's side in case of chat-bots in social networks and third-party messengers.

\subsection{Summary of approaches}

Every stage can be done in 3 possible ways:
\begin{enumerate}
    \item Software-as-a-Service
    \item Solution on premise
    \item In-house development
\end{enumerate}

The cheapest and fastest way would be to use Software-as-a-Service solution, which has minimal technical requirements, requires minimal maintenance and just has to be integrated into bank's infrastructure. 
On the other hand, usually there is no possibility to customize mentioned solution and requires additional vendor support. 
Moreover, finding a proper vendor is a complicated task, as a vendor has to have banking experience and proof-of-work.

As an option, bank can interact with a vendor to create solution on premise. 
In this case it would be entirely controllable and suited to bank's needs. 
Contrarily, it would require much more resources for both integration process and support.

The most precise and leading option for every bank would be to create own in-house solution, which would, obviously, give bank entire control over both support, costs, efficiency and services supported.
Nevertheless, this is the most expensive solution both in costs and time consumption, as it would not only require to build additional divisions both for development and maintenance, but also requires in-depth understanding of various technical and security standards.
According to studies, implementation costs time consumption of PSD2 varied drastically based on a chosen way of development and size of a bank. 
\cite{saltedge_open_banking_report}
\cite{deloitte_psd2_costs}

\begin{table}
    \centering
    \begin{tabular}{| c | c | c | c |}
        \hline
        &
        \textbf{Development costs, \$} & 
        \textbf{Annual fees, \$} &
        \textbf{Time, months} \\ \hline 
       
        \textbf{Software-as-a-Service} & 
            15'000-30'000 & 
            30'000-300'000 &
            1-3 \\ \hline 
       
        \textbf{Solution on premise} & 
            500'000 &
            100'000 &
            6-18 \\ \hline 

        \textbf{In-house development} &
            200'000-1'000'000 &
            50'000-200'000 &
            12-24 \\ \hline
    \end{tabular}
    \caption{Average costs of PSD2 implementation}
    \medskip
    \footnotesize\textit{Source:} Own study, based on "European PSD2 Survey Results highlights", Deloitte, 2017, p.5.
\end{table}

As it was mentioned before, public API is a wider approach, which is based on infrastructure and system provided during implementation of PSD2.
As a result, in my opinion it is possible to apply same expectations to development of public API.

\begin{table}
    \centering
    \begin{tabular}{| c | c | c | c |}
        \hline
        &
        \textbf{Development costs, \$} & 
        \textbf{Annual fees, \$} &
        \textbf{Time, months} \\ \hline 
       
        \textbf{Software-as-a-Service} & 
            15'000-30'000 & 
            30'000-300'000 &
            1-3 \\ \hline 
       
        \textbf{Solution on premise} & 
            500'000+ &
            100'000+ &
            6-18 \\ \hline 
            
        \textbf{In-house development} &
            200'000-1'000'000 &
            50'000-200'000 &
            12-24 \\ \hline
    \end{tabular}
    \caption{Expected costs of an Open Banking API implementation}
    \medskip
    \footnotesize\textit{Source:} Own study
\end{table}

The next step is to build a cheaper version of middleware, rule-based.
What is even more important, in case of having sufficient budget, this solution can be done in parallel with API extension and UI of front-office development.
Therefore, time to market for middleware highly depends on chosen strategy and available budget.

\begin{table}
    \centering
    \begin{tabular}{| c | c | c | c |}
        \hline
        &
        \textbf{Development costs, \$} & 
        \textbf{Annual fees, \$} &
        \textbf{Time, months} \\ \hline 
       
        \textbf{Software-as-a-Service} & 
            10'000-25'000 & 
            25'000-60'000 &
            1-3 \\ \hline 
       
        \textbf{Solution on premise} & 
            50'000+ &
            50'000+ &
            4-6 \\ \hline 
            
        \textbf{In-house development} &
            100'000+ &
            50'000+ &
            4-6 \\ \hline
    \end{tabular}
    \caption{Expected costs of a Rule-based middleware solution}
    \medskip
    \footnotesize\textit{Source:} Own study
\end{table}

Next logical step would be creation of Machine Learning based middleware.
This step is the most intense and the most expensive stage.
Additionally, this stage cannot be done parallely with other stages, as it requires enormous investments and development involvement, which adversely affect time consumption.
However, it is not the only negative affect, as this stage additionally requires using supervised Machine Learning, which requires sequential time-consuming stages, as data collection, teaching process and model testing.
Nevertheless, time to market is even longer if this middleware has to be used for customer related chat-bot, as, firstly, it has to be used by employees.
The best use-case would be to use hybrid chat-bot approach, which allows unsupervised learning by observing dialog between employee and a client at first.
Secondly, employee would just be an additional layer between middleware and chat-bot, which results in a supervised learning, where employee is the teacher.
Mentioned strategy allows developing highly efficient chat-bot without need to test in production on existing users.

\begin{table}
    \centering
    \begin{tabular}{| c | c | c | c |}
        \hline
        &
        \textbf{Development costs, \$} & 
        \textbf{Annual fees, \$} &
        \textbf{Time, months} \\ \hline 
       
        \textbf{Software-as-a-Service} & 
            25'000-50'000 & 
            25'000-50'000 &
            4-6 \\ \hline 
       
        \textbf{Solution on premise} & 
            150'000-500'000 &
            50'000 &
            6-9 \\ \hline 
            
        \textbf{In-house development} &
            300'000-1'000'000 &
            50'000-200'000 &
            9-15 \\ \hline
    \end{tabular}
    \caption{Expected costs of a ML\&AI middleware solution}
    \medskip
    \footnotesize\textit{Source:} Own study
\end{table}

Machine Learning based chat-bot with Natural Language Processing is an extremelly efficient banking solution.
It allows supplying content and information based on a habits and requirements of a user.
Especially, it increases user engagement due to fast replies and understandable form of help.
However, chat-bot by form of user interaction does not answer the questions, which user does not ask.
As a result, user cannot ask about the services he does not know about.
Moreover, this solution does not cover purposes of bank growth and development.

In order to fulfil those banking needs, additional system of recommendations and notifications is required.
This system should allow based on existing, known customer data give personalized recommendations either by form of additional answers in a chat-bot, dialog initiation message or notifications.

\begin{table}
    \centering
    \begin{tabular}{| c | c | c | c |}
        \hline
        &
        \textbf{Development costs, \$} & 
        \textbf{Annual fees, \$} &
        \textbf{Time, months} \\ \hline 
       
        \textbf{Software-as-a-Service} & 
            15'000-30'000 & 
            6'000-15'000 &
            1-3 \\ \hline 
       
        \textbf{Solution on premise} & 
            25'000-50'000 &
            10'000-25'000 &
            1-3 \\ \hline 
            
        \textbf{In-house development} &
            100'000-300'000 &
            50'000-100'000 &
            4-6 \\ \hline
    \end{tabular}
    \caption{Expected costs of ML\&AI-based Recommendation and Notification solution}
    \medskip
    \footnotesize\textit{Source:} Own study
\end{table}

As a result, bank would be able to create new system, a chat-bot with high levels of user engagement and a farseeing growth basis.
Existing forms of development are extremelly flexible and can suit any forms of budget and time available.
Banks can choose a level of influence and control over product based on their needs.
Nonetheless, entire system and approach is a very risky form of investment and should be extremelly precisely analyzed by management.

\begin{table}
    \centering
    \begin{tabular}{| c | c | c | c |}
        \hline
        &
        \textbf{Development costs, \$} & 
        \textbf{Annual fees, \$} &
        \textbf{Time, months} \\ \hline 
       
        \textbf{Software-as-a-Service} & 
            65'000-135'000 & 
            86'000-425'000 &
            6-12 \\ \hline 
       
        \textbf{Solution on premise} & 
            725'000-1'100'00 &
            210'000-300'000 &
            9-18 \\ \hline 
            
        \textbf{In-house development} &
            700'000-2'500'000 &
            200'000-550'000 &
            12-24 \\ \hline
    \end{tabular}
    \caption{Expected costs of an AI NLP Chat-bot solution with Recommendations}
    \medskip
    \footnotesize\textit{Source:} Own study
\end{table}
